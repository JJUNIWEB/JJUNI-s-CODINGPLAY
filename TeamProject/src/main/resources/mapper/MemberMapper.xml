<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.earth.mapper.MemberMapper">
		<insert id="memberJoin" >
			insert into tb_user values(#{user_name},#{user_nickname},#{user_email},#{user_pw})
		</insert>
		
		<insert id="dogInsert">
			insert into tb_doginfo values(#{user_email},#{dog_name})
		</insert>
		
		<!-- 아이디 중복검사 -->
  		<select id="emailCheck" resultType="int">
  	
  		select count(*) 
  		from tb_user 
  		where user_email = #{user_email}
  	
  		</select>
  		
  		<!-- 닉네임 중복검사 -->
  		<select id="nickNameCheck" resultType="int">
  	
  		select count(*) 
  		from tb_user 
  		where user_nickname = #{user_nickname}
  	
  		</select>
  		
  		<select id="memberLogin" resultType="com.earth.domain.MemberInfoDto">
  			select *
  			from tb_user t
  			join tb_doginfo d
  			on t.user_email = d.user_email 
  			where t.user_email = #{user_email} and t.user_pw = #{user_pw}
  		</select>
  		
  		
  </mapper>





